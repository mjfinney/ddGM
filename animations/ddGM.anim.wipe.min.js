/* /////////////////////////////////////////////////////
 * Wipe Animation for ddGM
 * v 1.0 :: 2012-10-02
//////////////////////////////////////////////////////*/
(function(){var a="wipe",b={type:"horizontal",reverse:false,speed:1250,easing:undefined,easingIn:"swing",easingOut:"swing"},c={initialize:function(e){var d=this;d.opt.animations[a]=$.extend(b,this.opt.animations[a]);d.opt.animations[a].easingIn=(!d.opt.animations[a].easing)?d.opt.animations[a].easingIn:d.opt.animations[a].easing;d.opt.animations[a].easingOut=(!d.opt.animations[a].easing)?d.opt.animations[a].easingOut:d.opt.animations[a].easing;e.resolve()},animate:function(e,i,h,f,g){var d=this;h.css({"z-index":d.layers.stageBottom});f.css({"z-index":d.layers.stageTop});if(f!=undefined){window.ddGM.anims[a].animOut.call(d,i,f,g)}else{outComp.resolve()}e.resolve()},animOut:function(e,g,f){var d=this;f=(d.opt.animations[a].reverse=="random")?Math.round(Math.random()):d.opt.animations[a].reverse?!f:f;g.wrap('<div class="ddGM-anim-wipe-wrapper" />').ready(function(){var n=g.parent(),s=g.css("width"),m=g.css("height"),k=g.css("top"),q=g.css("left"),p=g.width(),o=g.height(),l,r,j;n.css({width:p,height:o,overflow:"hidden",position:"absolute",top:k,left:q,boxShadow:g.css("box-shadow")});g.css({width:p,height:o,top:0,left:0});if(d.opt.animations[a].type=="horizontal"){l={width:0};if(!f){r=d.obj.stage.width()-g.width()-parseInt(q,10);n.css({left:"",right:r});g.css({left:"",right:0})}}else{l={height:0};if(!f){j=d.obj.stage.height()-g.height()-parseInt(k,10);n.css({top:"",bottom:j});g.css({top:"",bottom:0})}}n.animate(l,d.opt.animations[a].speed,d.opt.animations[a].easingOut,function(){g.unwrap().css({width:s,height:m,bottom:"",right:"",top:k,left:q});e.resolve()})})}};if(window.ddGM==undefined){window.ddGM={}}if(window.ddGM.anims==undefined){$.extend(window.ddGM,{anims:{}})}window.ddGM.anims[a]=c})();