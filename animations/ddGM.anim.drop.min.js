/* /////////////////////////////////////////////////////
 * Drop Animation for ddGM
 * v 1.0 :: 2012-10-02
//////////////////////////////////////////////////////*/
(function(){var a="drop",b={speed:750,scale:2.5,easing:undefined,easingIn:"swing",easingOut:"swing"},c={initialize:function(e){var d=this;d.opt.animations[a]=$.extend(b,d.opt.animations[a]);d.opt.animations[a].easingIn=(!d.opt.animations[a].easing)?d.opt.animations[a].easingIn:d.opt.animations[a].easing;d.opt.animations[a].easingOut=(!d.opt.animations[a].easing)?d.opt.animations[a].easingOut:d.opt.animations[a].easing;e.resolve()},animate:function(e,i,h,f,g){var d=this;d.deferreds.animDrop=[$.Deferred(),$.Deferred()];if(h!=undefined){window.ddGM.anims[a].animIn.call(d,d.deferreds.animDrop[0],h)}else{d.deferreds.animDrop[0].resolve()}if(f!=undefined){window.ddGM.anims[a].animOut.call(d,d.deferreds.animDrop[1],f)}else{d.deferreds.animDrop[1].resolve()}$.when(d.deferreds.animDrop[0],d.deferreds.animDrop[1]).done(i.resolve);e.resolve()},animIn:function(f,g){var d=this,e={},h={};g.css({"z-index":d.layers.stageTop,display:"block",opacity:0});if(d.items[d.states.clicked].resizable){e.w=g.width();e.h=g.height();e.x=parseInt(g.css("left"));e.y=parseInt(g.css("top"));h.w=e.w*d.opt.animations[a].scale;h.h=e.h*d.opt.animations[a].scale;h.x=e.x-Math.ceil((h.w-e.w)/2);h.y=e.y-Math.ceil((h.h-e.h)/2);g.css({width:h.w,height:h.h,left:h.x,top:h.y}).animate({width:e.w,height:e.h,left:e.x,top:e.y,opacity:1},d.opt.animations[a].speed,d.opt.animations[a].easingIn,f.resolve)}else{g.animate({opacity:1},d.opt.animations[a].speed,d.opt.animations[a].easingIn,f.resolve)}},animOut:function(e,f){var d=this;f.css({"z-index":d.layers.stageBottom}).animate({opacity:0},d.opt.animations[a].speed,d.opt.animations[a].easingOut,e.resolve)}};if(window.ddGM==undefined){window.ddGM={}}if(window.ddGM.anims==undefined){$.extend(window.ddGM,{anims:{}})}window.ddGM.anims[a]=c})();