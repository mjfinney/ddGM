/* /////////////////////////////////////////////////////
 * Lift Animation for ddGM
 * v 1.0 :: 2012-10-02
//////////////////////////////////////////////////////*/
(function(){var a="lift",b={speed:750,scale:2.5,easing:undefined,easingIn:"swing",easingOut:"swing"},c={initialize:function(e){var d=this;d.opt.animations[a]=$.extend(b,this.opt.animations[a]);d.opt.animations[a].easingIn=(!d.opt.animations[a].easing)?d.opt.animations[a].easingIn:d.opt.animations[a].easing;d.opt.animations[a].easingOut=(!d.opt.animations[a].easing)?d.opt.animations[a].easingOut:d.opt.animations[a].easing;e.resolve()},animate:function(e,i,h,f,g){var d=this;d.deferreds.animLift=[$.Deferred(),$.Deferred()];if(h!=undefined){window.ddGM.anims[a].animIn.call(d,d.deferreds.animLift[0],h)}else{d.deferreds.animLift[0].resolve()}if(f!=undefined){window.ddGM.anims[a].animOut.call(d,d.deferreds.animLift[1],f)}else{d.deferreds.animLift[1].resolve()}$.when(d.deferreds.animLift[0],d.deferreds.animLift[1]).done(i.resolve);e.resolve()},animIn:function(e,f){var d=this;f.css({display:"block",opacity:0}).animate({opacity:1},d.opt.animations[a].speed,d.opt.animations[a].easingIn,e.resolve)},animOut:function(f,g){var d=this,e={},h={};g.css({"z-index":d.layers.stageTop,display:"block"});if(d.items[d.states.current].resizable){h.w=g.width();h.h=g.height();h.x=parseInt(g.css("left"));h.y=parseInt(g.css("top"));e.w=h.w*d.opt.animations[a].scale;e.h=h.h*d.opt.animations[a].scale;e.x=h.x-Math.ceil((e.w-h.w)/2);e.y=h.y-Math.ceil((e.h-h.h)/2);g.animate({width:e.w,height:e.h,left:e.x,top:e.y,opacity:0},d.opt.animations[a].speed,d.opt.animations[a].easingOut,function(){$(this).css({width:h.w,height:h.h,left:h.x,top:h.y});f.resolve()})}else{g.animate({opacity:1},d.opt.animations[a].speed,d.opt.animations[a].easingOut,f.resolve)}}};if(window.ddGM==undefined){window.ddGM={}}if(window.ddGM.anims==undefined){$.extend(window.ddGM,{anims:{}})}window.ddGM.anims[a]=c})();