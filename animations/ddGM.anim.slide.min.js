/* /////////////////////////////////////////////////////
 * Slide Animation for ddGM
 * v 1.0 :: 2012-08-31
//////////////////////////////////////////////////////*/
(function(){var a="slide",b={type:"horizontal",reverse:false,speed:750,easing:undefined,easingIn:"swing",easingOut:"swing"},c={initialize:function(e){var d=this;d.opt.animations[a]=$.extend(b,this.opt.animations[a]);d.opt.animations[a].easingIn=(!d.opt.animations[a].easing)?d.opt.animations[a].easingIn:d.opt.animations[a].easing;d.opt.animations[a].easingOut=(!d.opt.animations[a].easing)?d.opt.animations[a].easingOut:d.opt.animations[a].easing;e.resolve()},animate:function(e,i,h,f,g){var d=this;d.deferreds.animSlide=[$.Deferred(),$.Deferred()];if(h!=undefined){window.ddGM.anims[a].animIn.call(d,d.deferreds.animSlide[0],h,g)}else{d.deferreds.animSlide[0].resolve()}if(f!=undefined){window.ddGM.anims[a].animOut.call(d,d.deferreds.animSlide[1],f,g)}else{d.deferreds.animSlide[1].resolve()}$.when(d.deferreds.animSlide[0],d.deferreds.animSlide[1]).done(i.resolve);e.resolve()},animIn:function(h,l,e){var k=this,d,j=k.opt.animations[a].type,f=["horizontal","vertical"],m={w:k.obj.stage.width(),h:k.obj.stage.height()},g={w:l.width(),h:l.height(),x:parseInt(l.css("left")),y:parseInt(l.css("top"))};e=(k.opt.animations[a].reverse=="random")?Math.round(Math.random()):k.opt.animations[a].reverse?!e:e;j=(j=="random")?f[Math.round(Math.random()*f.length)-1]:j;l.css({display:"block",opacity:1,"z-index":k.layers.stageTop});if(j=="horizontal"){d=e?((g.w>m.w)?m.w:(m.w+g.x)):((g.w>m.w)?(g.w*-1):(g.x-m.w));l.css({left:d}).animate({left:g.x},k.opt.animations[a].speed,k.opt.animations[a].easingIn,h.resolve)}else{d=e?((g.h>m.h)?m.h:(m.h+g.y)):((g.y>m.h)?(g.h*-1):(g.y-m.h));l.css({top:d}).animate({top:g.y},k.opt.animations[a].speed,k.opt.animations[a].easingIn,h.resolve)}},animOut:function(e,g,f){var d=this;g.css({"z-index":d.layers.stageBottom}).animate({opacity:0},d.opt.animations[a].speed,d.opt.animations[a].easingOut,e.resolve)}};if(window.ddGM==undefined){window.ddGM={}}if(window.ddGM.anims==undefined){$.extend(window.ddGM,{anims:{}})}window.ddGM.anims[a]=c})();