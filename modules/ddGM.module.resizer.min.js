/* /////////////////////////////////////////////////////
 * Resizer module for ddGM
 * v 1.0 :: 2012-10-02
//////////////////////////////////////////////////////*/
(function(){var b="resizer",a={type:"fit",enlarge:true},c={initialize:function(f){var e=this;e.opt.modules[b]=$.extend(a,e.opt.modules[b]);e.registerEvent("loadEnd",b,"resize");e.registerEvent("preAnim",b,"resize");e.registerEvent("resize",b,"resize");f.resolve()},resize:function(q){var n=this,e,j,s,f,l,h,p,g,m,i,r,k;e=(n.states.clicked!="")?n.states.clicked:n.states.current;j=n.items[e];if(j.resizable){s=n.obj.stage.find("."+j.id),f=s.css("opacity"),d=s.css("display");s.css({opacity:0,display:"none",width:"",height:""});l=s.width();h=s.height();p=l/h;g=n.obj.stage.width();m=n.obj.stage.height();i=g/m;if(n.opt.modules[b].type=="center"){}else{if(n.opt.modules[b].type=="stretch"){l=g;h=m}else{if(((h>m)||(l>g))||(((h<m)&&(l<g))&&n.opt.modules[b].enlarge)||(((h<m)||(l<g))&&n.opt.modules[b].type=="fill")){if((i>p&&n.opt.modules[b].type=="fit")||(p>1&&n.opt.modules[b].type=="fill")){k=m;l=Math.round(l*(k/h));h=k}else{r=g;h=Math.round(h*(r/l));l=r}}}}s.css({left:Math.ceil((g/2)-(l/2)),top:Math.ceil((m/2)-(h/2)),width:l,height:h,opacity:f,display:d})}q.resolve()}};if(!window.ddGM){window.ddGM={}}if(!window.ddGM.modules){$.extend(window.ddGM,{modules:{}})}window.ddGM.modules[b]=c})();