/* /////////////////////////////////////////////////////
 * Thumb Scroller module for ddGM
 * v 1.0 :: 2012-10-02
//////////////////////////////////////////////////////*/
(function(){var b="timeBar",a={type:"horizontal",shrinkWidth:false,shrinkHeight:false,opacityStart:1,opacityEnd:1,selectors:"",toGallery:true},c={initialize:function(e){var d=this,f=$();tpl='<div class="ddGM-timeBar-wrapper"><div class="ddGM-timeBar"></div></div>';d.opt.modules[b]=$.extend(a,d.opt.modules[b]);d.opt.modules[b].cssVarsStart={opacity:d.opt.modules[b].opacityStart};d.opt.modules[b].cssVarsEnd={opacity:d.opt.modules[b].opacityEnd};switch(d.opt.modules[b].type){case"horizontal":d.opt.modules[b].cssVarsStart.width=d.opt.modules[b].shrinkWidth?"100%":"0";d.opt.modules[b].cssVarsEnd.width=d.opt.modules[b].shrinkWidth?"0":"100%";break;case"vertical":d.opt.modules[b].cssVarsStart.height=d.opt.modules[b].shrinkHeight?"100%":"0";d.opt.modules[b].cssVarsEnd.height=d.opt.modules[b].shrinkHeight?"0":"100%";break;case"both":d.opt.modules[b].cssVarsStart.width=d.opt.modules[b].shrinkWidth?"100%":"0";d.opt.modules[b].cssVarsEnd.width=d.opt.modules[b].shrinkWidth?"0":"100%";d.opt.modules[b].cssVarsStart.height=d.opt.modules[b].shrinkHeight?"100%":"0";d.opt.modules[b].cssVarsEnd.height=d.opt.modules[b].shrinkHeight?"0":"100%";break;default:}if(d.opt.modules[b].toGallery){f=f.add(d.gal)}if(d.opt.modules[b].selectors){f=f.add(d.opt.modules[b].selectors)}f.append(tpl).ready(function(){d.obj.timeBar=f.find(".ddGM-timeBar");d.obj.timeBar.parent().css({"z-index":d.layers.top});d.registerEvent("loadStart",b,"resetBar");d.registerEvent("loadEnd",b,"playPauseBar");d.registerEvent("changeStart",b,"resetBar");d.registerEvent("pauseEnd",b,"playPauseBar");d.registerEvent("playEnd",b,"playPauseBar");d.registerEvent("changeEnd",b,"playPauseBar");e.resolve()})},resetBar:function(e){e.resolve();var d=this;d.obj.timeBar.stop(1,0).css(d.opt.modules[b].cssVarsStart)},playPauseBar:function(e){var d=this;if(d.states.playing&&!d.states.changing){d.obj.timeBar.stop(1,0).animate(d.opt.modules[b].cssVarsEnd,d.states.playDelay,"linear")}else{d.obj.timeBar.stop(1,0)}e.resolve()},unload:function(d){this.obj.timeBar.remove();d.resolve()}};if(!window.ddGM){window.ddGM={}}if(!window.ddGM.modules){$.extend(window.ddGM,{modules:{}})}window.ddGM.modules[b]=c})();